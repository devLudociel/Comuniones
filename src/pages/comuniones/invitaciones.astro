---
import ProductTemplate from "../../components/ProductTemplate.astro";
import { productos } from "../../data/productos.js";
import {
  buildGalleryFromFolders,
  getProductosDir,
  listProductFolders,
} from "../../utils/gallery.js";

const product = productos.find((item) => item.slug === "invitaciones");
const productosDir = getProductosDir();

const invitationDirs = listProductFolders(productosDir, "invitacion");
const gallery = buildGalleryFromFolders(productosDir, invitationDirs);

const productWithGallery = product
  ? { ...product, gallery }
  : { gallery };
---

<ProductTemplate product={productWithGallery} />
